<%- include("../partials/header.ejs") %>

<section class="w-full h-screen min-h-screen md:h-auto mt-10 md:mt-0 flex justify-center">
  <div>
    <% if(error){ %>
    <p><%=error%></p>
    <%} %>
  </div>

  <div class="rounded-2xl max-w-md w-full px-4 my-6">
    <div class="border border-gray-300 rounded-2xl p-6 relative text-center">
      <form
        action="/api/v1/files/send/<%= uuid %>"
        method="post"
        id="sendFileForm"
        class="space-y-5"
      >
        <!-- Sender Email -->
        <div
          class="flex items-center border rounded-lg bg-white text-gray-700 w-full shadow-sm focus-within:ring-2 focus-within:ring-blue-500"
        >
          <input
            type="email"
            name="emailFrom"
            id="senderEmail"
            placeholder="Sender Email"
            class="flex-1 py-2 px-4 rounded-l-lg focus:outline-none text-sm"
            required
            value="<%= email %>"
          />
          <img
            src="/icons/user.svg"
            alt="User Icon"
            class="w-5 h-5 mx-3 text-gray-500"
          />
        </div>

        <!-- Receiver Email -->
        <div
          class="flex items-center border rounded-lg bg-white text-gray-700 w-full shadow-sm focus-within:ring-2 focus-within:ring-blue-500"
        >
          <input
            type="email"
            name="emailTo"
            id="receiverEmail"
            placeholder="Receiver Email"
            class="flex-1 py-2 px-4 rounded-l-lg focus:outline-none text-sm"
            required
          />
          <img
            src="/icons/receiveEmail.svg"
            alt="Email Icon"
            class="w-5 h-5 mx-3 text-gray-500"
          />
        </div>

        <!-- Email Title -->
        <div
          class="flex items-center border rounded-lg bg-white text-gray-700 w-full shadow-sm focus-within:ring-2 focus-within:ring-blue-500"
        >
          <input
            type="text"
            name="FileTitle"
            id="FileTitle"
            placeholder="Title"
            class="flex-1 py-2 px-4 rounded-l-lg focus:outline-none text-sm"
            required
          />
          <img
            src="/icons/title.svg"
            alt="Title Icon"
            class="w-5 h-5 mx-3 text-gray-500"
          />
        </div>

        <!-- Email Text -->
        <div
          class="flex relative items-center border rounded-lg bg-white text-gray-700 w-full shadow-sm focus-within:ring-2 focus-within:ring-blue-500"
        >
          <textarea
            name="FileMessage"
            id="EmailText"
            placeholder="Write your thoughts..."
            class="flex-1 rounded-lg text-gray-700 outline-none w-full py-3 px-4 resize-none text-sm"
            rows="6"
            required
          ></textarea>
          <img
            src="/icons/paragraph.svg"
            alt="Text Icon"
            class="absolute top-3 right-3 w-5 h-5 text-gray-500"
          />
        </div>

        <!-- Send Button -->
        <div class="flex justify-start">
          <button
            type="submit"
            id="sendFileFormBtn"
            class="bg-blue-600 text-white rounded-lg py-2 px-4 flex items-center transition ease-in-out duration-150 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <span class="mr-2" id="sendFileFormBtnText">Send File</span>
            <img src="/icons/send.svg" alt="Send Icon" class="w-5 h-5" />
          </button>
        </div>
        <!-- after clicking on send file button - after message -->
        <div
          class="md:w-auto sm:w-auto text-center w-[80%] h-fit py-3 px-3 mx-auto border-2 border-green-900 bg-green-300 text-slate-800 rounded-md md:text-xl text-xs hidden"
          id="after-sendFile-message"
        >
          <small> please wait.. File will be sent in a few seconds... </small>
        </div>
      </form>
    </div>
  </div>
</section>

<%- include("../partials/footer.ejs") %>
